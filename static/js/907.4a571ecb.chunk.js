"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[907],{5046:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var n=s(9439),a=s(8844),i="Button_button__wiIYs",c=s(184),r=function(e){var t=e.onLoadMore;return(0,c.jsx)("button",{type:"button",className:i,onClick:t,children:"Load more"})},l={listContact:"CarsList_listContact__zs0xP",buttonDelete:"CarsList_buttonDelete__pSJsx",carItem:"CarsList_carItem__SwAxp"},o=s(2791),_={cardContainer:"CarItem_cardContainer__q4TcR",image:"CarItem_image__Oszm9",descriptionText:"CarItem_descriptionText__EdfAS",list:"CarItem_list__eOkt5",listItem:"CarItem_listItem__igGv1",title:"CarItem_title__Jm+ZN",location:"CarItem_location__cqz0g",heart:"CarItem_heart__kd6iQ",favorite_container:"CarItem_favorite_container__olzIz",button_favorite:"CarItem_button_favorite__swluy",icons:"CarItem_icons__Q4A2U",text_location:"CarItem_text_location__VpAz1"},d=s(3416),u=s(4420),h=s(3089),m=s(6647),x=s(2829),j=s(7854),f=function(e){var t=e.car,s=(0,o.useState)(!1),a=(0,n.Z)(s,2),i=a[0],r=a[1],l=(0,o.useState)(null),f=(0,n.Z)(l,2),v=f[0],p=f[1],g=(0,u.v9)(x.Tc),C=(0,u.I0)(),N=t._id,b=t.name,I=t.price,k=t.rating,w=t.location,Z=t.adults,S=t.engine,z=t.transmission,y=t.description,H=t.details,E=t.gallery,M=t.reviews,A=function(e){r(!0),p(e)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:_.cardContainer,children:[(0,c.jsx)("div",{className:_.imageContainer,children:(0,c.jsx)("img",{src:E[0],alt:b,className:_.image})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:_.title,children:[(0,c.jsx)("p",{children:b}),(0,c.jsxs)("div",{className:_.favorite_container,children:[(0,c.jsxs)("p",{className:_.price,children:["\u20ac",I]}),(0,c.jsx)("button",{className:_.button_favorite,type:"button",onClick:function(){if(null!==g&&void 0!==g&&g.find((function(e){return e._id===N}))){var e=g.filter((function(e){return e._id!==N}));C((0,j.KV)(e))}else C((0,j.uB)({_id:N}))},id:N,children:(0,c.jsx)("svg",{width:24,height:24,className:_.heart,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-heart")})})})]})]}),(0,c.jsxs)("div",{className:_.location,children:[(0,c.jsxs)("p",{children:[k,"(",M.reviewer_rating," Reviews)"]}),(0,c.jsxs)("p",{className:_.text_location,children:[(0,c.jsx)("svg",{width:16,height:16,className:_.icons,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-location")})}),w]})]}),(0,c.jsx)("p",{className:_.descriptionText,children:y}),(0,c.jsxs)("ul",{className:_.list,children:[(0,c.jsxs)("li",{className:_.listItem,children:[(0,c.jsx)("svg",{width:20,height:20,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-people")})}),Z,"adults"]}),(0,c.jsxs)("li",{className:_.listItem,children:[(0,c.jsx)("svg",{width:20,height:20,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-bak")})}),S]}),(0,c.jsxs)("li",{className:_.listItem,children:[(0,c.jsx)("svg",{width:20,height:20,className:_.icons,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-transmission")})}),z]}),(0,c.jsxs)("li",{className:_.listItem,children:[(0,c.jsx)("svg",{width:20,height:20,className:_.icons,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-eat")})}),H.kitchen," kitchen"]}),(0,c.jsxs)("li",{className:_.listItem,children:[(0,c.jsx)("svg",{width:20,height:20,className:_.icons,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-bag")})}),H.beds," beds"]}),(0,c.jsxs)("li",{className:_.listItem,children:[(0,c.jsx)("svg",{width:20,height:20,className:_.icons,children:(0,c.jsx)("use",{xlinkHref:"".concat(m.Z,"#icon-freezer")})}),H.freezer," freezer"]})]},N),(0,c.jsx)(d.b,{onOpenModal:A}),i&&(0,c.jsx)(h.u,{car:t,modal:v,onCloseModal:function(){r(!1),p(null)},onOpenModal:A})]})]})})},v=function(e){var t,s=e.location,n=e.filterCars,a=e.cars,i=e.onOpenModal,r=e.onCloseModal,_=(0,u.v9)(x.dB),d=(0,u.v9)(x.tu);""!==s&&(t=_.length>0?_.filter((function(e){return e.location===s})):d.filter((function(e){return e.location===s})));var h=(0,u.I0)();return(0,o.useEffect)((function(){h(""!==n?(0,j.ZQ)({filter:n}):(0,j.ZQ)({filter:[]}))}),[h,n]),(0,c.jsx)("ul",{className:l.listCars,children:_.length>0&&""!==n?""===s?_.map((function(e,t){return(0,c.jsx)("li",{className:l.carItem,children:(0,c.jsx)(f,{car:e},"".concat(e.id,"-").concat(t))},e._id)})):t.map((function(e,t){return(0,c.jsx)(f,{car:e},"".concat(e.id,"-").concat(t))})):""===s?a.map((function(e,t){return(0,c.jsx)("li",{className:l.carItem,children:(0,c.jsx)(f,{onOpenModal:i,onCloseModal:r,car:e},"".concat(e.id,"-").concat(t))},e._id)})):t.map((function(e,t){return(0,c.jsx)("li",{className:l.carItem,children:(0,c.jsx)(f,{car:e},"".concat(e.id,"-").concat(t))},e._id)}))})},p={home_container:"CarsPage_home_container__+h-9j",search_container:"CarsPage_search_container__EtdWO",button_search:"CarsPage_button_search__yn0GI",label:"CarsPage_label__XelHW",input_label:"CarsPage_input_label__AK1Ac"},g=s(9623),C="Filter_label__vEd1E",N="Filter_input_label__wfAs6",b="Filter_button_search__xucv3",I=function(){var e=(0,o.useState)(""),t=(0,n.Z)(e,2),s=t[0],a=t[1],i=(0,u.I0)();(0,o.useEffect)((function(){i((0,j.ZQ)())}),[i]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(s)},children:[(0,c.jsx)("label",{type:"text",value:s,onChange:function(e){a(e.target.value)},placeholder:"Enter location",className:C,children:"Location"}),(0,c.jsx)("br",{}),(0,c.jsx)("input",{className:N,type:"text"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("label",{className:C,children:"Filters"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("input",{className:N,type:"text"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("button",{type:"submit",className:b,children:"Search"})]})})},k=function(){var e=(0,o.useState)(0),t=(0,n.Z)(e,2),s=t[0],i=t[1],l=(0,o.useState)(""),_=(0,n.Z)(l,2),d=_[0],h=_[1],m=(0,o.useState)(""),f=(0,n.Z)(m,2),C=f[0],N=f[1],b=(0,u.I0)(),k=(0,u.v9)(x.Wz),w=(0,u.v9)(g.V),Z=(0,o.useRef)(0);(0,o.useEffect)((function(){s>0&&b((0,j.t$)({page:s,limit:4})),Z.current=s}),[b,4,s]),k.length<1&&0===s&&i(1);return(0,c.jsxs)("div",{className:p.home_container,children:[w&&(0,c.jsx)(a.a,{}),(0,c.jsx)("div",{className:p.search_container,children:(0,c.jsx)(I,{setFilter:h,setLocation:N})}),(0,c.jsxs)("div",{className:p.car_container,children:[(0,c.jsx)(v,{cars:k,filterCars:d,location:C}),(0,c.jsx)(r,{onClick:function(){i(s+1)}})]})]})}}}]);
//# sourceMappingURL=907.4a571ecb.chunk.js.map